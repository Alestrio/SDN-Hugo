<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.97.3"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>SNMP/API link :: SDN-Cloudstack - Documentation</title><link href=/css/nucleus.css?1653843703 rel=stylesheet><link href=/css/fontawesome-all.min.css?1653843703 rel=stylesheet><link href=/css/hybrid.css?1653843703 rel=stylesheet><link href=/css/featherlight.min.css?1653843703 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1653843703 rel=stylesheet><link href=/css/auto-complete.css?1653843703 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1653843703 rel=stylesheet><link href=/css/theme.css?1653843703 rel=stylesheet><link href=/css/tabs.css?1653843703 rel=stylesheet><link href=/css/hugo-theme.css?1653843703 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1653843703></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/technique/api/link_snmp/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/images/logo.png alt=logo class=logo></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1653843703></script>
<script type=text/javascript src=/js/auto-complete.js?1653843703></script>
<script type=text/javascript>var baseurl=""</script><script type=text/javascript src=/js/search.js?1653843703></script></div><section id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/rapport/ title=Report class=dd-item><a href=/rapport/><b>A. </b>Report</a><ul><li data-nav-id=/rapport/resume/ title=Summary class=dd-item><a href=/rapport/resume/>Summary</a></li><li data-nav-id=/rapport/thanks/ title=Aknowledgements class=dd-item><a href=/rapport/thanks/>Aknowledgements</a></li><li data-nav-id=/rapport/content_table/ title="Table of Content" class=dd-item><a href=/rapport/content_table/>Table of Content</a></li><li data-nav-id=/rapport/content/ title=Introduction class=dd-item><a href=/rapport/content/>Introduction</a><ul><li data-nav-id=/rapport/content/general_idea/ title="General Idea" class=dd-item><a href=/rapport/content/general_idea/><b>I. </b>General Idea</a><ul><li data-nav-id=/rapport/content/general_idea/context/ title=Context class=dd-item><a href=/rapport/content/general_idea/context/>Context</a></li><li data-nav-id=/rapport/content/general_idea/expectations/ title="Expectations of the project" class=dd-item><a href=/rapport/content/general_idea/expectations/>Expectations of the project</a></li></ul></li><li data-nav-id=/rapport/content/application_functional_dividing/ title="Application functional dividing" class=dd-item><a href=/rapport/content/application_functional_dividing/><b>II. </b>Application functional dividing</a><ul><li data-nav-id=/rapport/content/application_functional_dividing/what_is_a_topo/ title="What is a Topology" class=dd-item><a href=/rapport/content/application_functional_dividing/what_is_a_topo/>What is a Topology</a></li><li data-nav-id=/rapport/content/application_functional_dividing/web_portal/ title="web portal" class=dd-item><a href=/rapport/content/application_functional_dividing/web_portal/>web portal</a></li><li data-nav-id=/rapport/content/application_functional_dividing/topologie_manageur/ title="Topology Manager" class=dd-item><a href=/rapport/content/application_functional_dividing/topologie_manageur/>Topology Manager</a></li><li data-nav-id=/rapport/content/application_functional_dividing/topologie_database/ title="Topologie database" class=dd-item><a href=/rapport/content/application_functional_dividing/topologie_database/>Topologie database</a></li></ul></li><li data-nav-id=/rapport/content/project_realisation/ title="Project realisation" class=dd-item><a href=/rapport/content/project_realisation/><b>III. </b>Project realisation</a><ul><li data-nav-id=/rapport/content/project_realisation/web_portal/ title="Web Portal" class=dd-item><a href=/rapport/content/project_realisation/web_portal/>Web Portal</a></li><li data-nav-id=/rapport/content/project_realisation/software_interface_setting/ title="Software interface settings" class=dd-item><a href=/rapport/content/project_realisation/software_interface_setting/>Software interface settings</a></li><li data-nav-id=/rapport/content/project_realisation/database/ title=Database class=dd-item><a href=/rapport/content/project_realisation/database/>Database</a></li><li data-nav-id=/rapport/content/project_realisation/topologie_manager/ title="Topologie manager" class=dd-item><a href=/rapport/content/project_realisation/topologie_manager/>Topologie manager</a></li></ul></li><li data-nav-id=/rapport/content/project_implementations/ title="Project implementation" class=dd-item><a href=/rapport/content/project_implementations/><b>IV. </b>Project implementation</a><ul><li data-nav-id=/rapport/content/project_implementations/software_backbone/ title="Software Backbone" class=dd-item><a href=/rapport/content/project_implementations/software_backbone/>Software Backbone</a></li><li data-nav-id=/rapport/content/project_implementations/colaboration_tools/ title="Colaboration tools" class=dd-item><a href=/rapport/content/project_implementations/colaboration_tools/>Colaboration tools</a></li><li data-nav-id=/rapport/content/project_implementations/evaluation/ title=Evaluation class=dd-item><a href=/rapport/content/project_implementations/evaluation/>Evaluation</a></li></ul></li><li data-nav-id=/rapport/content/conclusion/ title=Conclusion class=dd-item><a href=/rapport/content/conclusion/>Conclusion</a></li></ul></li><li data-nav-id=/rapport/word_index/ title=Index class=dd-item><a href=/rapport/word_index/>Index</a></li><li data-nav-id=/rapport/annexes/ title=Appendixes class=dd-item><a href=/rapport/annexes/>Appendixes</a><ul><li data-nav-id=/rapport/annexes/template/ title="1. Flask template example" class=dd-item><a href=/rapport/annexes/template/>1. Flask template example</a></li><li data-nav-id=/rapport/annexes/websocket_code/ title="2. Automatic updates code" class=dd-item><a href=/rapport/annexes/websocket_code/>2. Automatic updates code</a></li><li data-nav-id=/rapport/annexes/oids/ title="3. OIDs List" class=dd-item><a href=/rapport/annexes/oids/>3. OIDs List</a></li><li data-nav-id=/rapport/annexes/api_urls/ title="4. API URLs" class=dd-item><a href=/rapport/annexes/api_urls/>4. API URLs</a></li><li data-nav-id=/rapport/annexes/topology/ title="5. Topology example" class=dd-item><a href=/rapport/annexes/topology/>5. Topology example</a></li><li data-nav-id=/rapport/annexes/docker_compose/ title="6. Docker-compose file" class=dd-item><a href=/rapport/annexes/docker_compose/>6. Docker-compose file</a></li><li data-nav-id=/rapport/annexes/gh_actions/ title="7. CICD File" class=dd-item><a href=/rapport/annexes/gh_actions/>7. CICD File</a></li></ul></li></ul></li><li data-nav-id=/technique/ title="Technical Ressource" class="dd-item
parent"><a href=/technique/><b>B. </b>Technical Ressource</a><ul><li data-nav-id=/technique/config/ title="Server Configuration" class=dd-item><a href=/technique/config/><b>1. </b>Server Configuration</a><ul><li data-nav-id=/technique/config/docker-compose/ title=Docker-Compose class=dd-item><a href=/technique/config/docker-compose/><b>a. </b>Docker-Compose</a><ul><li data-nav-id=/technique/config/docker-compose/docker-compose/ title=Docker-Compose class=dd-item><a href=/technique/config/docker-compose/docker-compose/>Docker-Compose</a></li></ul></li><li data-nav-id=/technique/config/dns/ title=DNS class=dd-item><a href=/technique/config/dns/><b>b. </b>DNS</a><ul><li data-nav-id=/technique/config/dns/default-zones/ title=Default-Zones class=dd-item><a href=/technique/config/dns/default-zones/>Default-Zones</a></li><li data-nav-id=/technique/config/dns/zone-sdn-chalons-univ-reims-fr/ title="Zone sdn.chalons.univ-reims.fr" class=dd-item><a href=/technique/config/dns/zone-sdn-chalons-univ-reims-fr/>Zone sdn.chalons.univ-reims.fr</a></li></ul></li><li data-nav-id=/technique/config/proxy/ title=Proxy class=dd-item><a href=/technique/config/proxy/><b>c. </b>Proxy</a><ul><li data-nav-id=/technique/config/proxy/traefik/ title="Traefik Reverse Proxy" class=dd-item><a href=/technique/config/proxy/traefik/>Traefik Reverse Proxy</a></li><li data-nav-id=/technique/config/proxy/hugo-conf/ title="Hugo Proxy Config" class=dd-item><a href=/technique/config/proxy/hugo-conf/>Hugo Proxy Config</a></li></ul></li></ul></li><li data-nav-id=/technique/research/ title=Research class=dd-item><a href=/technique/research/><b>2. </b>Research</a><ul><li data-nav-id=/technique/research/research-snmp/ title="Research SNMP" class=dd-item><a href=/technique/research/research-snmp/>Research SNMP</a></li><li data-nav-id=/technique/research/research_hugo/ title="Research Hugo" class=dd-item><a href=/technique/research/research_hugo/>Research Hugo</a></li></ul></li><li data-nav-id=/technique/api/ title=API class="dd-item
parent"><a href=/technique/api/><b>3. </b>API</a><ul><li data-nav-id=/technique/api/api_url_list/ title="Api Url List" class=dd-item><a href=/technique/api/api_url_list/>Api Url List</a></li><li data-nav-id=/technique/api/link_snmp/ title="SNMP/API link" class="dd-item active"><a href=/technique/api/link_snmp/>SNMP/API link</a></li></ul></li><li data-nav-id=/technique/deployment/ title="Deployment configurations" class=dd-item><a href=/technique/deployment/><b>4. </b>Deployment configurations</a><ul><li data-nav-id=/technique/deployment/google-ar/ title="Google Artifact Registry" class=dd-item><a href=/technique/deployment/google-ar/>Google Artifact Registry</a></li><li data-nav-id=/technique/deployment/deployment/ title="API Deployment" class=dd-item><a href=/technique/deployment/deployment/>API Deployment</a></li><li data-nav-id=/technique/deployment/cicd/ title="CI/CD : Continuous Integration / Continuous Developpement" class=dd-item><a href=/technique/deployment/cicd/>CI/CD : Continuous Integration / Continuous Developpement</a></li></ul></li></ul></li></ul><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=/technique/api/link_snmp/ selected>English</option><option id=fr value=/fr/technique/api/link_snmp/>Fran√ßais</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/></a> > <a href=/technique/>Technical Ressource</a> > <a href=/technique/api/>API</a> > SNMP/API link</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#basic-libraries>Basic libraries:</a></li><li><a href=#the-switchoperations-class>The SwitchOperations class</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/notice>notice</a>
<a class=tag-link href=/tags/api>api</a>
<a class=tag-link href=/tags/snmp>snmp</a></div></div><div id=body-inner><h1>SNMP/API link</h1><p>To communicate with the assets, the API uses the SNMP protocol. You can find more information about the protocol on the dedicated research page. This article discusses the use of this protocol with the API.</p><h2 id=basic-libraries>Basic libraries:</h2><p>Initially, to design our API, we used <strong>PySNMP</strong>. It is a high level library entirely made with Python allowing to use the SNMP protocol with the Python language.</p><p>It is possible to do any SNMP action with this library, however, it has several drawbacks:</p><ul><li>The syntax is heavy and repetitive</li><li>Due to its design, it brings a lot of latency for the processing of large volumes of information</li></ul><p>To solve the first problem, we have, in collaboration with Alexandre GOSSARD and Corentin FREIRE from the AC-VISION project, created a class, <strong>SNMPUtils</strong>, to simplify the syntax when using this library, but this does not solve the second problem : latency&mldr;</p><p>In order to solve this second problem, we looked for several solutions:</p><ul><li>Concurrent information retrieval (using several processes (thread) at the same time)</li><li>Modification of the process of treatment of the information in order to gain in cpu time</li><li>Use of a lower level library</li></ul><p>This last solution was chosen, using the <strong>snmp_cmds</strong> library, which is based on the <strong>net_snmp</strong> binary, present natively on Linux systems, and easily installed on Windows systems.<br>This library allows the recovery of complete tables, in a time very close to that of the <strong>net_snmp</strong> binary ($\approx$ 0.7s). It saves a lot of time. Its disadvantage is that it does not know how to handle bytes-strings, which makes the use of <strong>PySNMP</strong> mandatory in these cases. So we use our SNMPUtils class in order to reconcile the two libraries in a common and understandable base.</p><h2 id=the-switchoperations-class>The SwitchOperations class</h2><p>In order to respect the following programming principles :</p><ul><li>DRY : Don&rsquo;t Repeat Yourself</li><li>Modularity and responsibility management</li></ul><p>we use a class to create an abstraction layer between the SNMP part and the API part.<br>This class is only responsible for the retrieval and transmission of configuration with the asset, and allows the API code to remain understandable and concise. Thus, the responsibility of the actions with the asset is given to this class, which allows to be more efficient in maintenance and a better understanding of the code.</p><p>As the retrieval of information from the asset remains slow, despite the use of the solutions described above, this class also handles the <strong>caching</strong> and rebuilding of the cache. This saves a lot of time for the user, while being totally transparent since the cache is automatically regenerated at each configuration change.<br>For the retrieval of all the information available via the API, we go from 12s to about 1.1s.</p><p>The management of the cache is delegated by this class to the <strong>Beaker</strong> library, and it is a cache in RAM, with an expiration of 10mn.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/technique/api/api_url_list/ title="Api Url List"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/technique/deployment/ title="Deployment configurations" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1653843703></script>
<script src=/js/perfect-scrollbar.min.js?1653843703></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1653843703></script>
<script src=/js/jquery.sticky.js?1653843703></script>
<script src=/js/featherlight.min.js?1653843703></script>
<script src=/js/highlight.pack.js?1653843703></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1653843703></script>
<script src=/js/learn.js?1653843703></script>
<script src=/js/hugo-learn.js?1653843703></script>
<script src=/mermaid/mermaid.js?1653843703></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>