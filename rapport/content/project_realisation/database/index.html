<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.97.3"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Database :: SDN-Cloudstack - Documentation</title><link href=/css/nucleus.css?1653843502 rel=stylesheet><link href=/css/fontawesome-all.min.css?1653843502 rel=stylesheet><link href=/css/hybrid.css?1653843502 rel=stylesheet><link href=/css/featherlight.min.css?1653843502 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1653843502 rel=stylesheet><link href=/css/auto-complete.css?1653843502 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1653843502 rel=stylesheet><link href=/css/theme.css?1653843502 rel=stylesheet><link href=/css/tabs.css?1653843502 rel=stylesheet><link href=/css/hugo-theme.css?1653843502 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1653843502></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/rapport/content/project_realisation/database/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/images/logo.png alt=logo class=logo></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1653843502></script>
<script type=text/javascript src=/js/auto-complete.js?1653843502></script>
<script type=text/javascript>var baseurl=""</script><script type=text/javascript src=/js/search.js?1653843502></script></div><section id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/rapport/ title=Report class="dd-item
parent"><a href=/rapport/><b>A. </b>Report</a><ul><li data-nav-id=/rapport/resume/ title=Summary class=dd-item><a href=/rapport/resume/>Summary</a></li><li data-nav-id=/rapport/thanks/ title=Aknowledgements class=dd-item><a href=/rapport/thanks/>Aknowledgements</a></li><li data-nav-id=/rapport/content_table/ title="Table of Content" class=dd-item><a href=/rapport/content_table/>Table of Content</a></li><li data-nav-id=/rapport/content/ title=Introduction class="dd-item
parent"><a href=/rapport/content/>Introduction</a><ul><li data-nav-id=/rapport/content/general_idea/ title="General Idea" class=dd-item><a href=/rapport/content/general_idea/><b>I. </b>General Idea</a><ul><li data-nav-id=/rapport/content/general_idea/context/ title=Context class=dd-item><a href=/rapport/content/general_idea/context/>Context</a></li><li data-nav-id=/rapport/content/general_idea/expectations/ title="Expectations of the project" class=dd-item><a href=/rapport/content/general_idea/expectations/>Expectations of the project</a></li></ul></li><li data-nav-id=/rapport/content/application_functional_dividing/ title="Application functional dividing" class=dd-item><a href=/rapport/content/application_functional_dividing/><b>II. </b>Application functional dividing</a><ul><li data-nav-id=/rapport/content/application_functional_dividing/what_is_a_topo/ title="What is a Topology" class=dd-item><a href=/rapport/content/application_functional_dividing/what_is_a_topo/>What is a Topology</a></li><li data-nav-id=/rapport/content/application_functional_dividing/web_portal/ title="web portal" class=dd-item><a href=/rapport/content/application_functional_dividing/web_portal/>web portal</a></li><li data-nav-id=/rapport/content/application_functional_dividing/topologie_manageur/ title="Topology Manager" class=dd-item><a href=/rapport/content/application_functional_dividing/topologie_manageur/>Topology Manager</a></li><li data-nav-id=/rapport/content/application_functional_dividing/topologie_database/ title="Topologie database" class=dd-item><a href=/rapport/content/application_functional_dividing/topologie_database/>Topologie database</a></li></ul></li><li data-nav-id=/rapport/content/project_realisation/ title="Project realisation" class="dd-item
parent"><a href=/rapport/content/project_realisation/><b>III. </b>Project realisation</a><ul><li data-nav-id=/rapport/content/project_realisation/web_portal/ title="Web Portal" class=dd-item><a href=/rapport/content/project_realisation/web_portal/>Web Portal</a></li><li data-nav-id=/rapport/content/project_realisation/software_interface_setting/ title="Software interface settings" class=dd-item><a href=/rapport/content/project_realisation/software_interface_setting/>Software interface settings</a></li><li data-nav-id=/rapport/content/project_realisation/database/ title=Database class="dd-item active"><a href=/rapport/content/project_realisation/database/>Database</a></li><li data-nav-id=/rapport/content/project_realisation/topologie_manager/ title="Topologie manager" class=dd-item><a href=/rapport/content/project_realisation/topologie_manager/>Topologie manager</a></li></ul></li><li data-nav-id=/rapport/content/project_implementations/ title="Project implementation" class=dd-item><a href=/rapport/content/project_implementations/><b>IV. </b>Project implementation</a><ul><li data-nav-id=/rapport/content/project_implementations/software_backbone/ title="Software Backbone" class=dd-item><a href=/rapport/content/project_implementations/software_backbone/>Software Backbone</a></li><li data-nav-id=/rapport/content/project_implementations/colaboration_tools/ title="Colaboration tools" class=dd-item><a href=/rapport/content/project_implementations/colaboration_tools/>Colaboration tools</a></li><li data-nav-id=/rapport/content/project_implementations/evaluation/ title=Evaluation class=dd-item><a href=/rapport/content/project_implementations/evaluation/>Evaluation</a></li></ul></li><li data-nav-id=/rapport/content/conclusion/ title=Conclusion class=dd-item><a href=/rapport/content/conclusion/>Conclusion</a></li></ul></li><li data-nav-id=/rapport/word_index/ title=Index class=dd-item><a href=/rapport/word_index/>Index</a></li><li data-nav-id=/rapport/annexes/ title=Appendixes class=dd-item><a href=/rapport/annexes/>Appendixes</a><ul><li data-nav-id=/rapport/annexes/template/ title="1. Flask template example" class=dd-item><a href=/rapport/annexes/template/>1. Flask template example</a></li><li data-nav-id=/rapport/annexes/websocket_code/ title="2. Automatic updates code" class=dd-item><a href=/rapport/annexes/websocket_code/>2. Automatic updates code</a></li><li data-nav-id=/rapport/annexes/oids/ title="3. OIDs List" class=dd-item><a href=/rapport/annexes/oids/>3. OIDs List</a></li><li data-nav-id=/rapport/annexes/api_urls/ title="4. API URLs" class=dd-item><a href=/rapport/annexes/api_urls/>4. API URLs</a></li><li data-nav-id=/rapport/annexes/topology/ title="5. Topology example" class=dd-item><a href=/rapport/annexes/topology/>5. Topology example</a></li><li data-nav-id=/rapport/annexes/docker_compose/ title="6. Docker-compose file" class=dd-item><a href=/rapport/annexes/docker_compose/>6. Docker-compose file</a></li><li data-nav-id=/rapport/annexes/gh_actions/ title="7. CICD File" class=dd-item><a href=/rapport/annexes/gh_actions/>7. CICD File</a></li></ul></li></ul></li><li data-nav-id=/technique/ title="Technical Ressource" class=dd-item><a href=/technique/><b>B. </b>Technical Ressource</a><ul><li data-nav-id=/technique/config/ title="Server Configuration" class=dd-item><a href=/technique/config/><b>1. </b>Server Configuration</a><ul><li data-nav-id=/technique/config/docker-compose/ title=Docker-Compose class=dd-item><a href=/technique/config/docker-compose/><b>a. </b>Docker-Compose</a><ul><li data-nav-id=/technique/config/docker-compose/docker-compose/ title=Docker-Compose class=dd-item><a href=/technique/config/docker-compose/docker-compose/>Docker-Compose</a></li></ul></li><li data-nav-id=/technique/config/dns/ title=DNS class=dd-item><a href=/technique/config/dns/><b>b. </b>DNS</a><ul><li data-nav-id=/technique/config/dns/default-zones/ title=Default-Zones class=dd-item><a href=/technique/config/dns/default-zones/>Default-Zones</a></li><li data-nav-id=/technique/config/dns/zone-sdn-chalons-univ-reims-fr/ title="Zone sdn.chalons.univ-reims.fr" class=dd-item><a href=/technique/config/dns/zone-sdn-chalons-univ-reims-fr/>Zone sdn.chalons.univ-reims.fr</a></li></ul></li><li data-nav-id=/technique/config/proxy/ title=Proxy class=dd-item><a href=/technique/config/proxy/><b>c. </b>Proxy</a><ul><li data-nav-id=/technique/config/proxy/traefik/ title="Traefik Reverse Proxy" class=dd-item><a href=/technique/config/proxy/traefik/>Traefik Reverse Proxy</a></li><li data-nav-id=/technique/config/proxy/hugo-conf/ title="Hugo Proxy Config" class=dd-item><a href=/technique/config/proxy/hugo-conf/>Hugo Proxy Config</a></li></ul></li></ul></li><li data-nav-id=/technique/research/ title=Research class=dd-item><a href=/technique/research/><b>2. </b>Research</a><ul><li data-nav-id=/technique/research/research-snmp/ title="Research SNMP" class=dd-item><a href=/technique/research/research-snmp/>Research SNMP</a></li><li data-nav-id=/technique/research/research_hugo/ title="Research Hugo" class=dd-item><a href=/technique/research/research_hugo/>Research Hugo</a></li></ul></li><li data-nav-id=/technique/api/ title=API class=dd-item><a href=/technique/api/><b>3. </b>API</a><ul><li data-nav-id=/technique/api/api_url_list/ title="Api Url List" class=dd-item><a href=/technique/api/api_url_list/>Api Url List</a></li><li data-nav-id=/technique/api/link_snmp/ title="SNMP/API link" class=dd-item><a href=/technique/api/link_snmp/>SNMP/API link</a></li></ul></li><li data-nav-id=/technique/deployment/ title="Deployment configurations" class=dd-item><a href=/technique/deployment/><b>4. </b>Deployment configurations</a><ul><li data-nav-id=/technique/deployment/google-ar/ title="Google Artifact Registry" class=dd-item><a href=/technique/deployment/google-ar/>Google Artifact Registry</a></li><li data-nav-id=/technique/deployment/deployment/ title="API Deployment" class=dd-item><a href=/technique/deployment/deployment/>API Deployment</a></li><li data-nav-id=/technique/deployment/cicd/ title="CI/CD : Continuous Integration / Continuous Developpement" class=dd-item><a href=/technique/deployment/cicd/>CI/CD : Continuous Integration / Continuous Developpement</a></li></ul></li></ul></li></ul><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=/rapport/content/project_realisation/database/ selected>English</option><option id=fr value=/fr/rapport/content/project_realisation/database/>Français</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/></a> > <a href=/rapport/>Report</a> > <a href=/rapport/content/>Introduction</a> > <a href=/rapport/content/project_realisation/>Project realisation</a> > Database</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#topology-structure>Topology structure</a></li><li><a href=#how-to-save-a-topology>How to save a topology</a></li><li><a href=#interactions-with-the-topology-manager>Interactions with the topology manager</a></li><li><a href=#user-storage>User storage</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/rapport>rapport</a>
<a class=tag-link href=/tags/project-implementation>Project implementation</a></div></div><div id=body-inner><h1>Database</h1><h2 id=topology-structure>Topology structure</h2><p>Topologies are stored as strings in YAML format. The structure of this string is simple, it is composed of 4 parts:</p><ul><li><strong>name</strong> : the name of the topology -> used to identify the topology instead of its ID, too heavy for the user</li><li><strong>vlans</strong> : the list of VLANs useful for the topology application, to be created if necessary</li><li><strong>interfaces</strong> : the list of interfaces configurations of the topology</li><li><strong>trunks</strong>: the list of trunk configurations of the topology</li></ul><p>An example of topology is proposed in appendix 5</p><h2 id=how-to-save-a-topology>How to save a topology</h2><p>First of all, we had to make a choice regarding the storage technique of these data. We had several solutions:</p><ul><li>Store them as <strong>YAML</strong> files, in a specific folder on the server</li><li>Store them in a <strong>database</strong>.</li></ul><p>We chose the database option, but here again, we had many choices. During our course at the IUT, we studied the <strong>PostGreSQL</strong> database system, which is a relational system, meaning that the data are stored in tables, which are linked together. This imposes a rather <strong>static</strong> data format, not to mention the design of the database structure. So we started with a database able to store data in key/value format (JSON), <strong>MongoDB</strong>. MongoDB allows us to store our topologies almost as they are, without having to format them to fit into tables.
The advantage of this system is that <strong>to an identifier, is linked a topology</strong>, which is much simpler for the management of the database, but also for reading and writing in it.</p><h2 id=interactions-with-the-topology-manager>Interactions with the topology manager</h2><p>When we started the project, we started with an API, managing all the operations related to the database, the assets, and the authentication. The system we developed does not involve direct communication between the database and the topology manager, but only with the API, which <strong>interfaces</strong> the database and the user interface part.
<img src=/images/diagramme_infra_ajd.jpg alt=diagramme_infra_ajd.jpg>
The logic behind this choice was to get as close as possible to the architecture of software in production today.</p><p>Nevertheless, with hindsight and thanks to the discussions we had with our project tutor, we realized that we added <strong>complexity</strong> to the project, and that it would have been simpler to make the topology manager dialogue directly with the database. However, this choice is consistent with the choice to delegate the responsibility of applying topologies to the API. That&rsquo;s why we didn&rsquo;t backtrack and stayed with this architecture.</p><h2 id=user-storage>User storage</h2><p>Originally, users were also stored in the database. It was consulted by the API, which managed the authentication. This architecture was quite <strong>complex</strong>, so we decided not to keep it, since we realized again that we had <strong>complexified</strong> the project. So we decided to store the users in a YAML file, and to delegate the user connection to the topology manager. This also implies making the API open, without the need for authentication, but this is not a handicap, since in the end it will not be exposed.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/rapport/content/project_realisation/software_interface_setting/ title="Software interface settings"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/rapport/content/project_realisation/topologie_manager/ title="Topologie manager" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1653843502></script>
<script src=/js/perfect-scrollbar.min.js?1653843502></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1653843502></script>
<script src=/js/jquery.sticky.js?1653843502></script>
<script src=/js/featherlight.min.js?1653843502></script>
<script src=/js/highlight.pack.js?1653843502></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1653843502></script>
<script src=/js/learn.js?1653843502></script>
<script src=/js/hugo-learn.js?1653843502></script>
<script src=/mermaid/mermaid.js?1653843502></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>