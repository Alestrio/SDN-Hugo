<!doctype html><html lang=fr class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.97.3"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Interface de configuration logicielle. :: SDN-Cloudstack - Documentation</title><link href=/css/nucleus.css?1653843812 rel=stylesheet><link href=/css/fontawesome-all.min.css?1653843812 rel=stylesheet><link href=/css/hybrid.css?1653843812 rel=stylesheet><link href=/css/featherlight.min.css?1653843812 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1653843812 rel=stylesheet><link href=/css/auto-complete.css?1653843812 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1653843812 rel=stylesheet><link href=/css/theme.css?1653843812 rel=stylesheet><link href=/css/tabs.css?1653843812 rel=stylesheet><link href=/css/hugo-theme.css?1653843812 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1653843812></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/rapport/content/project_realisation/software_interface_setting/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/images/logo.png alt=logo class=logo></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Rechercher...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1653843812></script>
<script type=text/javascript src=/js/auto-complete.js?1653843812></script>
<script type=text/javascript>var baseurl=""</script><script type=text/javascript src=/js/search.js?1653843812></script></div><section id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/rapport/ title=Rapport class="dd-item
parent"><a href=/rapport/><b>A. </b>Rapport</a><ul><li data-nav-id=/rapport/resume/ title=Résumé class=dd-item><a href=/rapport/resume/>Résumé</a></li><li data-nav-id=/rapport/thanks/ title=Remerciements class=dd-item><a href=/rapport/thanks/>Remerciements</a></li><li data-nav-id=/rapport/content_table/ title="Table des matières" class=dd-item><a href=/rapport/content_table/>Table des matières</a></li><li data-nav-id=/rapport/content/ title=Introduction class="dd-item
parent"><a href=/rapport/content/>Introduction</a><ul><li data-nav-id=/rapport/content/general_idea/ title=Généralités class=dd-item><a href=/rapport/content/general_idea/><b>I. </b>Généralités</a><ul><li data-nav-id=/rapport/content/general_idea/context/ title="Contexte du projet" class=dd-item><a href=/rapport/content/general_idea/context/>Contexte du projet</a></li><li data-nav-id=/rapport/content/general_idea/expectations/ title="Attentes du projet" class=dd-item><a href=/rapport/content/general_idea/expectations/>Attentes du projet</a></li></ul></li><li data-nav-id=/rapport/content/application_functional_dividing/ title="Découpage fonctionnel de l'application" class=dd-item><a href=/rapport/content/application_functional_dividing/><b>II. </b>Découpage fonctionnel de l'application</a><ul><li data-nav-id=/rapport/content/application_functional_dividing/what_is_a_topo/ title="Qu'est-ce que une topologie ?" class=dd-item><a href=/rapport/content/application_functional_dividing/what_is_a_topo/>Qu'est-ce que une topologie ?</a></li><li data-nav-id=/rapport/content/application_functional_dividing/web_portal/ title="Le portail web" class=dd-item><a href=/rapport/content/application_functional_dividing/web_portal/>Le portail web</a></li><li data-nav-id=/rapport/content/application_functional_dividing/topologie_manageur/ title="Gestionnaire de topologie" class=dd-item><a href=/rapport/content/application_functional_dividing/topologie_manageur/>Gestionnaire de topologie</a></li><li data-nav-id=/rapport/content/application_functional_dividing/topologie_database/ title="Base de données des topologies" class=dd-item><a href=/rapport/content/application_functional_dividing/topologie_database/>Base de données des topologies</a></li></ul></li><li data-nav-id=/rapport/content/project_realisation/ title="Réalisation du projet" class="dd-item
parent"><a href=/rapport/content/project_realisation/><b>III. </b>Réalisation du projet</a><ul><li data-nav-id=/rapport/content/project_realisation/web_portal/ title="Portail web" class=dd-item><a href=/rapport/content/project_realisation/web_portal/>Portail web</a></li><li data-nav-id=/rapport/content/project_realisation/software_interface_setting/ title="Interface de configuration logicielle." class="dd-item active"><a href=/rapport/content/project_realisation/software_interface_setting/>Interface de configuration logicielle.</a></li><li data-nav-id=/rapport/content/project_realisation/database/ title="Base de données" class=dd-item><a href=/rapport/content/project_realisation/database/>Base de données</a></li><li data-nav-id=/rapport/content/project_realisation/topologie_manager/ title="Gestionnaire de topologies" class=dd-item><a href=/rapport/content/project_realisation/topologie_manager/>Gestionnaire de topologies</a></li></ul></li><li data-nav-id=/rapport/content/project_implementations/ title="Mise en oeuvre du projet" class=dd-item><a href=/rapport/content/project_implementations/><b>IV. </b>Mise en oeuvre du projet</a><ul><li data-nav-id=/rapport/content/project_implementations/software_backbone/ title="Ossature du logiciel" class=dd-item><a href=/rapport/content/project_implementations/software_backbone/>Ossature du logiciel</a></li><li data-nav-id=/rapport/content/project_implementations/colaboration_tools/ title="Outils de collaboration" class=dd-item><a href=/rapport/content/project_implementations/colaboration_tools/>Outils de collaboration</a></li><li data-nav-id=/rapport/content/project_implementations/evaluation/ title=Evaluation class=dd-item><a href=/rapport/content/project_implementations/evaluation/>Evaluation</a></li></ul></li><li data-nav-id=/rapport/content/conclusion/ title=Conclusion class=dd-item><a href=/rapport/content/conclusion/>Conclusion</a></li></ul></li><li data-nav-id=/rapport/word_index/ title=Index class=dd-item><a href=/rapport/word_index/>Index</a></li><li data-nav-id=/rapport/annexes/ title=Annexes class=dd-item><a href=/rapport/annexes/>Annexes</a><ul><li data-nav-id=/rapport/annexes/template/ title="1. Exemple de template Flask" class=dd-item><a href=/rapport/annexes/template/>1. Exemple de template Flask</a></li><li data-nav-id=/rapport/annexes/websocket_code/ title="2. Code mises à jour automatique" class=dd-item><a href=/rapport/annexes/websocket_code/>2. Code mises à jour automatique</a></li><li data-nav-id=/rapport/annexes/oids/ title="3. Liste des OIDs" class=dd-item><a href=/rapport/annexes/oids/>3. Liste des OIDs</a></li><li data-nav-id=/rapport/annexes/api_urls/ title="4. URLS de l'API" class=dd-item><a href=/rapport/annexes/api_urls/>4. URLS de l'API</a></li><li data-nav-id=/rapport/annexes/topology/ title="5. Exemple de topologie" class=dd-item><a href=/rapport/annexes/topology/>5. Exemple de topologie</a></li><li data-nav-id=/rapport/annexes/docker_compose/ title="6. Fichier Docker-compose" class=dd-item><a href=/rapport/annexes/docker_compose/>6. Fichier Docker-compose</a></li><li data-nav-id=/rapport/annexes/gh_actions/ title="7. Fichier de CICD" class=dd-item><a href=/rapport/annexes/gh_actions/>7. Fichier de CICD</a></li></ul></li></ul></li><li data-nav-id=/technique/ title="Ressources Techniques" class=dd-item><a href=/technique/><b>B. </b>Ressources Techniques</a><ul><li data-nav-id=/technique/config/ title="Configuration des Serveurs" class=dd-item><a href=/technique/config/><b>1. </b>Configuration des Serveurs</a><ul><li data-nav-id=/technique/config/docker-compose/ title=Docker-Compose class=dd-item><a href=/technique/config/docker-compose/><b>a. </b>Docker-Compose</a><ul><li data-nav-id=/technique/config/docker-compose/docker-compose/ title=Docker-Compose class=dd-item><a href=/technique/config/docker-compose/docker-compose/>Docker-Compose</a></li></ul></li><li data-nav-id=/technique/config/dns/ title=DNS class=dd-item><a href=/technique/config/dns/><b>b. </b>DNS</a><ul><li data-nav-id=/technique/config/dns/default-zones/ title=Default-Zones class=dd-item><a href=/technique/config/dns/default-zones/>Default-Zones</a></li><li data-nav-id=/technique/config/dns/zone-snd-chalons-univ-reims-fr/ title="Zone sdn.chalons.univ-reims.fr" class=dd-item><a href=/technique/config/dns/zone-snd-chalons-univ-reims-fr/>Zone sdn.chalons.univ-reims.fr</a></li></ul></li><li data-nav-id=/technique/config/proxy/ title=Proxy class=dd-item><a href=/technique/config/proxy/><b>c. </b>Proxy</a><ul><li data-nav-id=/technique/config/proxy/traefik/ title="Traefik Reverse Proxy" class=dd-item><a href=/technique/config/proxy/traefik/>Traefik Reverse Proxy</a></li><li data-nav-id=/technique/config/proxy/hugo-conf/ title="Config Proxy pour Hugo" class=dd-item><a href=/technique/config/proxy/hugo-conf/>Config Proxy pour Hugo</a></li></ul></li></ul></li><li data-nav-id=/technique/research/ title=Recherche class=dd-item><a href=/technique/research/><b>2. </b>Recherche</a><ul><li data-nav-id=/technique/research/research-snmp/ title="Recherche SNMP" class=dd-item><a href=/technique/research/research-snmp/>Recherche SNMP</a></li><li data-nav-id=/technique/research/research_hugo/ title="Recherche Hugo" class=dd-item><a href=/technique/research/research_hugo/>Recherche Hugo</a></li></ul></li><li data-nav-id=/technique/api/ title=API class=dd-item><a href=/technique/api/><b>3. </b>API</a><ul><li data-nav-id=/technique/api/link_snmp/ title="Lien SNMP/API" class=dd-item><a href=/technique/api/link_snmp/>Lien SNMP/API</a></li><li data-nav-id=/technique/api/api_url_list/ title="List des URL de L'API" class=dd-item><a href=/technique/api/api_url_list/>List des URL de L'API</a></li></ul></li><li data-nav-id=/technique/deployment/ title="Configurations de déploiement" class=dd-item><a href=/technique/deployment/><b>4. </b>Configurations de déploiement</a><ul><li data-nav-id=/technique/deployment/google-ar/ title="Google Artifact Registry" class=dd-item><a href=/technique/deployment/google-ar/>Google Artifact Registry</a></li><li data-nav-id=/technique/deployment/cicd/ title="CI/CD : Continuous Integration / Continuous Developpement" class=dd-item><a href=/technique/deployment/cicd/>CI/CD : Continuous Integration / Continuous Developpement</a></li><li data-nav-id=/technique/deployment/deployment/ title="Déploiement de l'API" class=dd-item><a href=/technique/deployment/deployment/>Déploiement de l'API</a></li></ul></li></ul></li></ul><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=/en/rapport/content/project_realisation/software_interface_setting/>English</option><option id=fr value=/rapport/content/project_realisation/software_interface_setting/ selected>Français</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/></a> > <a href=/rapport/>Rapport</a> > <a href=/rapport/content/>Introduction</a> > <a href=/rapport/content/project_realisation/>Réalisation du projet</a> > Interface de configuration logicielle.</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#pourquoi-cette-interface->Pourquoi cette interface ?</a></li><li><a href=#le-protocole-snmp>Le protocole SNMP</a></li><li><a href=#configuration-obligatoire-de-lactif-réseau>Configuration obligatoire de l&rsquo;actif réseau</a></li><li><a href=#une-api->Une API :</a></li><li><a href=#construction-de-lapi>Construction de l&rsquo;API</a><ul><li><a href=#open-api>Open API</a></li><li><a href=#support-du-snmp-en-python>Support du SNMP en Python</a></li><li><a href=#le-cache>Le cache</a></li><li><a href=#authentification>Authentification</a></li></ul></li><li><a href=#état-davancement>État d&rsquo;avancement</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/rapport>rapport</a>
<a class=tag-link href=/tags/project-implementation>Project implementation</a></div></div><div id=body-inner><h1>Interface de configuration logicielle.</h1><p>L&rsquo;interface de configuration logicielle est un service permettant la configuration des actifs réseaux.</p><h2 id=pourquoi-cette-interface->Pourquoi cette interface ?</h2><p>Tout d&rsquo;abord, il est important de savoir comment les actifs réseaux sont configurés. Nous avons vu dans la section précédente qu&rsquo;il était admis que nous n&rsquo;utiliserions pas de protocoles interactifs comme le port Console ou le SSH (Console via réseau). Il a donc fallu trouver d&rsquo;autres moyens. Nous nous sommes arrêtés sur l&rsquo;utilisation d&rsquo;un protocole bien connu dans le domaine de la supervision : le protocole <strong><a href=../../../word_index/#snmp>SNMP</a></strong>. Il s&rsquo;agit d&rsquo;un protocole qui permet de communiquer avec tout type d&rsquo;appareils (ordinateur, switch, routeur, etc.) afin de récupérer des informations, ou de pousser de la configuration.
Cette interface a donc pour but de traduire les actions SNMP en URL paramétrables. Cela permet une utilisation du protocole assez transparente et facile.</p><h2 id=le-protocole-snmp>Le protocole SNMP</h2><p>Le protocole SNMP, basé sur <strong><a href=../../../word_index/#udp>UDP</a></strong>, est un protocole qui permet de communiquer avec des appareils pour récupérer des informations ou pousser de la configuration. Il utilise un système d&rsquo;<strong>OID</strong> (Object Identifier) pour définir les informations que l&rsquo;on souhaite récupérer. Un OID est un identifiant unique qui permet de définir un objet. Il est défini sous la forme d&rsquo;une suite de chiffres, séparés par des points. Exemple d&rsquo;OID : <code>1.3.6.1.2.1.1.5</code> (Permet de récupérer le nom d&rsquo;hôte).
Les OIDs nécessaires pour notre interface sont définis dans le fichier de configuration de ce service (cf Annexe 3).</p><h2 id=configuration-obligatoire-de-lactif-réseau>Configuration obligatoire de l&rsquo;actif réseau</h2><p>Il est important de configurer l&rsquo;actif réseau avant de pouvoir utiliser l&rsquo;interface de configuration sur ce dernier. Voici les paramètres à configurer :</p><ul><li><strong>Interface SVI</strong> : l&rsquo;interface SVI de l&rsquo;actif réseau. C&rsquo;est une prise réseau virtuelle qui est utilisée pour configurer l&rsquo;actif réseau.</li><li><strong>Adresse IP</strong> : l&rsquo;adresse IP de l&rsquo;actif réseau.</li><li><strong>Communauté SNMP</strong> : la communauté SNMP de l&rsquo;actif réseau. C&rsquo;est une valeur textuelle qui définit la clé de sécurité qui permet la configuration de l&rsquo;actif réseau.</li></ul><h2 id=une-api->Une API :</h2><p>Puisque ce service traduit les actions SNMP en URL paramétrables, il s&rsquo;agit d&rsquo;une <strong>API</strong>. Une API est un serveur qui permet, via des URL, de récupérer des informations ou d&rsquo;exécuter des actions. Dorénavant, nous ne parlerons plus d&rsquo;&ldquo;interface de configuration logicielle&rdquo; mais d&rsquo;<strong>API</strong>.
Une liste des toutes les URLs de l&rsquo;API est disponible en Annexe 4.</p><h2 id=construction-de-lapi>Construction de l&rsquo;API</h2><h3 id=open-api>Open API</h3><p>Afin de nous rapprocher au maximum du côté &ldquo;Terrain&rdquo;, nous avons décidé de construire notre API suivant le <a href=https://www.openapis.org/><strong>standard Open API</strong></a>. C&rsquo;est un standard qui permet de définir des structures de données, et de ressources. Il définit des méthodes HTTP telles que GET, POST, PUT, DELETE. Ces méthodes ont toutes leurs fonctions. Par exemple, une requête GET permettra de récupérer des informations, et une requête POST permettra de pousser des informations.</p><p>Le paquet Python que nous utilisons pour construire notre API est <a href=https://fastapi.tiangolo.com/><strong>FastAPI</strong></a>. C&rsquo;est un framework (Littéralement &ldquo;Cadre de travail&rdquo; -> Un ensemble d&rsquo;outils) qui permet de construire rapidement une API. L&rsquo;avantage de ce paquet, est qu&rsquo;il génère automatiquement la documentation de l&rsquo;API, en respectant le standard Open API.</p><h3 id=support-du-snmp-en-python>Support du SNMP en Python</h3><p>L&rsquo;utilisation du protocole SNMP en Python est prise en charge par deux paquets différents :</p><ul><li><strong>snmp-cmds</strong> : Ce paquet est responsable de récupération de tables complètes (Table des interfaces, etc.) via le protocole SNMP. Il gère aussi toute la partie de poussée de configuration.</li><li><strong>pysnmp</strong> : Ce paquet prend en charge ce que le premier paquet ne peut pas. Il permet de récupérer des informations qui ne sont pas dans des tables.</li></ul><h3 id=le-cache>Le cache</h3><p>La récupération initiale de toutes les données est très longue (environ 7 secondes), et cela est lié au fonctionnement même du protocole SNMP. Pour éviter de devoir récupérer les données à chaque fois, nous avons décidé de créer un <strong>cache</strong>. Ce cache est géré par le paquet Python <a href=https://beaker.readthedocs.io/en/latest/><strong>Beaker</strong></a>. Il s&rsquo;agit d&rsquo;un cache stocké en RAM, et qui permet de stocker des données pendant une durée définie. Ce paquet est tout indiqué par rapport au paquet <strong>Redis</strong>, car les informations stockées ont une taille définie qui ne bouge pas ou peu, on ne risque donc pas de dépassement de RAM. Redis, lui, est un cache beaucoup plus puissant, mais aussi beaucoup plus compliqué. Sa puissance aurait été énorme par rapport au travail qui lui aurait été demandé, donc il n&rsquo;était pas rentable de l&rsquo;utiliser.</p><h3 id=authentification>Authentification</h3><p>Pendant le développement de notre API, nous somme partis sur une authentification au niveau de celle-ci. Cette authentification était basée sur une collection d&rsquo;utilisateurs dans la base de données, avec un système de token <a href=https://jwt.io/><strong>JWT</strong></a>. Concrètement, l&rsquo;utilisateur fournit un nom d&rsquo;utilisateur et un mot de passe, et nous vérifions que ces informations sont correctes. Si elles sont correctes, nous générons un jeton, un code, qui doit être inclus dans les requêtes HTTP, pour celles qui sont protégées.</p><p>Cependant, avec le recul, nous nous sommes rendu compte que nous avions été chercher trop compliqué, puisque dans le cahier des charges, il était stipulé que l&rsquo;API n&rsquo;allait pas être <strong>exposée</strong>. Ainsi, l&rsquo;authentification à ce niveau n&rsquo;était pas nécessaire. Nous avons donc décidé de ne pas utiliser d&rsquo;authentification, et de laisser l&rsquo;ensemble de l&rsquo;API <strong>accessible</strong>, sachant que seul le service de portail web aura accès à elle. L&rsquo;authentification sera donc effectuée par le service de portail web, à partir d&rsquo;infomations contenues dans le fichier de configuration de ce service.</p><h2 id=état-davancement>État d&rsquo;avancement</h2><p>A ce jour, on considère l&rsquo;API comme terminée. Lors du développement de nouvelles fonctionnalités de l&rsquo;interface web, il sera peut être nécessaire de la compléter, mais pour l&rsquo;instant, l&rsquo;API réalise les fonctions nécéssaires pour le bon fonctionnement du projet.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/rapport/content/project_realisation/web_portal/ title="Portail web"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/rapport/content/project_realisation/database/ title="Base de données" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1653843812></script>
<script src=/js/perfect-scrollbar.min.js?1653843812></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1653843812></script>
<script src=/js/jquery.sticky.js?1653843812></script>
<script src=/js/featherlight.min.js?1653843812></script>
<script src=/js/highlight.pack.js?1653843812></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1653843812></script>
<script src=/js/learn.js?1653843812></script>
<script src=/js/hugo-learn.js?1653843812></script>
<script src=/mermaid/mermaid.js?1653843812></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>