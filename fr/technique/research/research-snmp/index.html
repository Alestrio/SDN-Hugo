<!doctype html><html lang=fr class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.97.3"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Recherche SNMP :: SDN-Cloudstack - Documentation</title><link href=/css/nucleus.css?1653843703 rel=stylesheet><link href=/css/fontawesome-all.min.css?1653843703 rel=stylesheet><link href=/css/hybrid.css?1653843703 rel=stylesheet><link href=/css/featherlight.min.css?1653843703 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1653843703 rel=stylesheet><link href=/css/auto-complete.css?1653843703 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1653843703 rel=stylesheet><link href=/css/theme.css?1653843703 rel=stylesheet><link href=/css/tabs.css?1653843703 rel=stylesheet><link href=/css/hugo-theme.css?1653843703 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1653843703></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/fr/technique/research/research-snmp/><nav id=sidebar><div id=header-wrapper><div id=header><img src=/images/logo.png alt=logo class=logo></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Rechercher...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1653843703></script>
<script type=text/javascript src=/js/auto-complete.js?1653843703></script>
<script type=text/javascript>var baseurl="/fr"</script><script type=text/javascript src=/js/search.js?1653843703></script></div><section id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/fr/rapport/ title=Rapport class=dd-item><a href=/fr/rapport/><b>A. </b>Rapport</a><ul><li data-nav-id=/fr/rapport/resume/ title=Résumé class=dd-item><a href=/fr/rapport/resume/>Résumé</a></li><li data-nav-id=/fr/rapport/thanks/ title=Remerciements class=dd-item><a href=/fr/rapport/thanks/>Remerciements</a></li><li data-nav-id=/fr/rapport/content_table/ title="Table des matières" class=dd-item><a href=/fr/rapport/content_table/>Table des matières</a></li><li data-nav-id=/fr/rapport/content/ title=Introduction class=dd-item><a href=/fr/rapport/content/>Introduction</a><ul><li data-nav-id=/fr/rapport/content/general_idea/ title=Généralités class=dd-item><a href=/fr/rapport/content/general_idea/><b>I. </b>Généralités</a><ul><li data-nav-id=/fr/rapport/content/general_idea/context/ title="Contexte du projet" class=dd-item><a href=/fr/rapport/content/general_idea/context/>Contexte du projet</a></li><li data-nav-id=/fr/rapport/content/general_idea/expectations/ title="Attentes du projet" class=dd-item><a href=/fr/rapport/content/general_idea/expectations/>Attentes du projet</a></li></ul></li><li data-nav-id=/fr/rapport/content/application_functional_dividing/ title="Découpage fonctionnel de l'application" class=dd-item><a href=/fr/rapport/content/application_functional_dividing/><b>II. </b>Découpage fonctionnel de l'application</a><ul><li data-nav-id=/fr/rapport/content/application_functional_dividing/what_is_a_topo/ title="Qu'est-ce que une topologie ?" class=dd-item><a href=/fr/rapport/content/application_functional_dividing/what_is_a_topo/>Qu'est-ce que une topologie ?</a></li><li data-nav-id=/fr/rapport/content/application_functional_dividing/web_portal/ title="Le portail web" class=dd-item><a href=/fr/rapport/content/application_functional_dividing/web_portal/>Le portail web</a></li><li data-nav-id=/fr/rapport/content/application_functional_dividing/topologie_manageur/ title="Gestionnaire de topologie" class=dd-item><a href=/fr/rapport/content/application_functional_dividing/topologie_manageur/>Gestionnaire de topologie</a></li><li data-nav-id=/fr/rapport/content/application_functional_dividing/topologie_database/ title="Base de données des topologies" class=dd-item><a href=/fr/rapport/content/application_functional_dividing/topologie_database/>Base de données des topologies</a></li></ul></li><li data-nav-id=/fr/rapport/content/project_realisation/ title="Réalisation du projet" class=dd-item><a href=/fr/rapport/content/project_realisation/><b>III. </b>Réalisation du projet</a><ul><li data-nav-id=/fr/rapport/content/project_realisation/web_portal/ title="Portail web" class=dd-item><a href=/fr/rapport/content/project_realisation/web_portal/>Portail web</a></li><li data-nav-id=/fr/rapport/content/project_realisation/software_interface_setting/ title="Interface de configuration logicielle." class=dd-item><a href=/fr/rapport/content/project_realisation/software_interface_setting/>Interface de configuration logicielle.</a></li><li data-nav-id=/fr/rapport/content/project_realisation/database/ title="Base de données" class=dd-item><a href=/fr/rapport/content/project_realisation/database/>Base de données</a></li><li data-nav-id=/fr/rapport/content/project_realisation/topologie_manager/ title="Gestionnaire de topologies" class=dd-item><a href=/fr/rapport/content/project_realisation/topologie_manager/>Gestionnaire de topologies</a></li></ul></li><li data-nav-id=/fr/rapport/content/project_implementations/ title="Mise en oeuvre du projet" class=dd-item><a href=/fr/rapport/content/project_implementations/><b>IV. </b>Mise en oeuvre du projet</a><ul><li data-nav-id=/fr/rapport/content/project_implementations/software_backbone/ title="Ossature du logiciel" class=dd-item><a href=/fr/rapport/content/project_implementations/software_backbone/>Ossature du logiciel</a></li><li data-nav-id=/fr/rapport/content/project_implementations/colaboration_tools/ title="Outils de collaboration" class=dd-item><a href=/fr/rapport/content/project_implementations/colaboration_tools/>Outils de collaboration</a></li><li data-nav-id=/fr/rapport/content/project_implementations/evaluation/ title=Evaluation class=dd-item><a href=/fr/rapport/content/project_implementations/evaluation/>Evaluation</a></li></ul></li><li data-nav-id=/fr/rapport/content/conclusion/ title=Conclusion class=dd-item><a href=/fr/rapport/content/conclusion/>Conclusion</a></li></ul></li><li data-nav-id=/fr/rapport/word_index/ title=Index class=dd-item><a href=/fr/rapport/word_index/>Index</a></li><li data-nav-id=/fr/rapport/annexes/ title=Annexes class=dd-item><a href=/fr/rapport/annexes/>Annexes</a><ul><li data-nav-id=/fr/rapport/annexes/template/ title="1. Exemple de template Flask" class=dd-item><a href=/fr/rapport/annexes/template/>1. Exemple de template Flask</a></li><li data-nav-id=/fr/rapport/annexes/websocket_code/ title="2. Code mises à jour automatique" class=dd-item><a href=/fr/rapport/annexes/websocket_code/>2. Code mises à jour automatique</a></li><li data-nav-id=/fr/rapport/annexes/oids/ title="3. Liste des OIDs" class=dd-item><a href=/fr/rapport/annexes/oids/>3. Liste des OIDs</a></li><li data-nav-id=/fr/rapport/annexes/api_urls/ title="4. URLS de l'API" class=dd-item><a href=/fr/rapport/annexes/api_urls/>4. URLS de l'API</a></li><li data-nav-id=/fr/rapport/annexes/topology/ title="5. Exemple de topologie" class=dd-item><a href=/fr/rapport/annexes/topology/>5. Exemple de topologie</a></li><li data-nav-id=/fr/rapport/annexes/docker_compose/ title="6. Fichier Docker-compose" class=dd-item><a href=/fr/rapport/annexes/docker_compose/>6. Fichier Docker-compose</a></li><li data-nav-id=/fr/rapport/annexes/gh_actions/ title="7. Fichier de CICD" class=dd-item><a href=/fr/rapport/annexes/gh_actions/>7. Fichier de CICD</a></li></ul></li></ul></li><li data-nav-id=/fr/technique/ title="Ressources Techniques" class="dd-item
parent"><a href=/fr/technique/><b>B. </b>Ressources Techniques</a><ul><li data-nav-id=/fr/technique/config/ title="Configuration des Serveurs" class=dd-item><a href=/fr/technique/config/><b>1. </b>Configuration des Serveurs</a><ul><li data-nav-id=/fr/technique/config/docker-compose/ title=Docker-Compose class=dd-item><a href=/fr/technique/config/docker-compose/><b>a. </b>Docker-Compose</a><ul><li data-nav-id=/fr/technique/config/docker-compose/docker-compose/ title=Docker-Compose class=dd-item><a href=/fr/technique/config/docker-compose/docker-compose/>Docker-Compose</a></li></ul></li><li data-nav-id=/fr/technique/config/dns/ title=DNS class=dd-item><a href=/fr/technique/config/dns/><b>b. </b>DNS</a><ul><li data-nav-id=/fr/technique/config/dns/default-zones/ title=Default-Zones class=dd-item><a href=/fr/technique/config/dns/default-zones/>Default-Zones</a></li><li data-nav-id=/fr/technique/config/dns/zone-snd-chalons-univ-reims-fr/ title="Zone sdn.chalons.univ-reims.fr" class=dd-item><a href=/fr/technique/config/dns/zone-snd-chalons-univ-reims-fr/>Zone sdn.chalons.univ-reims.fr</a></li></ul></li><li data-nav-id=/fr/technique/config/proxy/ title=Proxy class=dd-item><a href=/fr/technique/config/proxy/><b>c. </b>Proxy</a><ul><li data-nav-id=/fr/technique/config/proxy/traefik/ title="Traefik Reverse Proxy" class=dd-item><a href=/fr/technique/config/proxy/traefik/>Traefik Reverse Proxy</a></li><li data-nav-id=/fr/technique/config/proxy/hugo-conf/ title="Config Proxy pour Hugo" class=dd-item><a href=/fr/technique/config/proxy/hugo-conf/>Config Proxy pour Hugo</a></li></ul></li></ul></li><li data-nav-id=/fr/technique/research/ title=Recherche class="dd-item
parent"><a href=/fr/technique/research/><b>2. </b>Recherche</a><ul><li data-nav-id=/fr/technique/research/research-snmp/ title="Recherche SNMP" class="dd-item active"><a href=/fr/technique/research/research-snmp/>Recherche SNMP</a></li><li data-nav-id=/fr/technique/research/research_hugo/ title="Recherche Hugo" class=dd-item><a href=/fr/technique/research/research_hugo/>Recherche Hugo</a></li></ul></li><li data-nav-id=/fr/technique/api/ title=API class=dd-item><a href=/fr/technique/api/><b>3. </b>API</a><ul><li data-nav-id=/fr/technique/api/link_snmp/ title="Lien SNMP/API" class=dd-item><a href=/fr/technique/api/link_snmp/>Lien SNMP/API</a></li><li data-nav-id=/fr/technique/api/api_url_list/ title="List des URL de L'API" class=dd-item><a href=/fr/technique/api/api_url_list/>List des URL de L'API</a></li></ul></li><li data-nav-id=/fr/technique/deployment/ title="Configurations de déploiement" class=dd-item><a href=/fr/technique/deployment/><b>4. </b>Configurations de déploiement</a><ul><li data-nav-id=/fr/technique/deployment/google-ar/ title="Google Artifact Registry" class=dd-item><a href=/fr/technique/deployment/google-ar/>Google Artifact Registry</a></li><li data-nav-id=/fr/technique/deployment/cicd/ title="CI/CD : Continuous Integration / Continuous Developpement" class=dd-item><a href=/fr/technique/deployment/cicd/>CI/CD : Continuous Integration / Continuous Developpement</a></li><li data-nav-id=/fr/technique/deployment/deployment/ title="Déploiement de l'API" class=dd-item><a href=/fr/technique/deployment/deployment/>Déploiement de l'API</a></li></ul></li></ul></li></ul><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=/technique/research/research-snmp/>English</option><option id=fr value=/fr/technique/research/research-snmp/ selected>Français</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/fr/></a> > <a href=/fr/technique/>Ressources Techniques</a> > <a href=/fr/technique/research/>Recherche</a> > Recherche SNMP</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#mibs-utilisées>MIBs utilisées</a></li><li><a href=#résultats-bruts>Résultats bruts</a></li><li><a href=#résultats-mis-en-forme>Résultats mis en forme</a></li><li><a href=#réapitulatif-des-résultats>Réapitulatif des résultats</a></li><li><a href=#interface-vlan>Interface-vlan</a></li><li><a href=#trunks>Trunks</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/fr/tags/research>research</a>
<a class=tag-link href=/fr/tags/snmp>snmp</a></div></div><div id=body-inner><h1>Recherche SNMP</h1><p>Cette page contient les tests effectués durant les recherches préparatoires pour le projet SDN CloudStack.</p><h2 id=mibs-utilisées>MIBs utilisées</h2><ul><li>CISCO-VLAN-IFTABLE-RELATIONSHIP-MIB.my</li><li>CISCO-VLAN-MEMBERSHIP-MIB.my</li><li>CISCO-VTP-MIB.my</li></ul><p>Toutes ces MIBs sont récuperables sur le FTP du constructeur conformément à cette fiche : <a href=https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-2_44_se/configuration/guide/scg/swmibs.pdf>https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-2_44_se/configuration/guide/scg/swmibs.pdf</a></p><h2 id=résultats-bruts>Résultats bruts</h2><p>Les résultats bruts sont stockés dans des fichiers .txt, sous forme de CSV.</p><h2 id=résultats-mis-en-forme>Résultats mis en forme</h2><p>Les résultats sont ensuite mis en forme avec Excel.</p><p>La formule pour récupérer l&rsquo;ID final est : <code>=DROITE(A2;NBCAR(A2) - CHERCHE(".";A2))</code>(a modifier au besoin)</p><h2 id=réapitulatif-des-résultats>Réapitulatif des résultats</h2><p>A l&rsquo;heure actuelle, les résultats présents sont :</p><table><thead><tr><th>Nom du fichier brut</th><th>Nom du fichier mis en forme</th><th>Description</th></tr></thead><tbody><tr><td>walk_rtstack.txt</td><td>walk_rtstack.xlsx</td><td>Walk général effectué sur le switch RTSTACK</td></tr><tr><td>walk_rtstack2.txt</td><td>walk_rtstack2.xlsx</td><td>Second walk général effectué sur le switch RTSTACK. Contient plus d&rsquo;informations</td></tr><tr><td>vlanmembership_rtstack.txt</td><td>vlanmembership_rtstack.xlsx</td><td>Subtree de la MIB CISCO-VLAN-MEMBERSHIP-MIB à partir de &ldquo;ciscoVlanMembershipMIBObjects&rdquo;</td></tr><tr><td>vtpvlantable_rtstack.txt</td><td>vtpvlantable_rtstack.xlsx</td><td>Subtree de la MIB CISCO-VTP-MIB à partir de &ldquo;vlanInfo&rdquo;</td></tr><tr><td>iface-vlan_rtstack.txt</td><td>iface-vlan_rtstack.txt</td><td>Correspondance interface-vlan de la RTSTACK, plus d&rsquo;infos ci-dessous&mldr;</td></tr></tbody></table><h2 id=interface-vlan>Interface-vlan</h2><p>Chemin MIB : <code>1 (iso). 3 (org). 6 (dod). 1 (internet). 4 (private). 1 (enterprises). 9 (cisco). 9 (ciscoMgmt). 68 (ciscoVlanMembershipMIB). 1 (ciscoVlanMembershipMIBObjects). 2 (vmMembership). 2 (vmMembershipTable). 1 (vmMembershipEntry). 2 (vmVlan)</code>
OID : <code>1.3.6.1.4.1.9.9.68.1.2.2.1.2</code></p><p>Ceci renvoie la correspondance VLAN-INTERFACE sur le Switch.</p><h2 id=trunks>Trunks</h2><p>Pour récupérer et gérer les trunks, on utilise la CISCO-VTP-MIB.<br>Dans cette MIB, on utilise la table vlanTrunkPortTable, qui recense toutes les informations dont nous avons besoin, à savoir :</p><ul><li>Index de l&rsquo;interface</li><li>Vlans autorisés ou &ldquo;taggés&rdquo;</li><li>Vlan natif</li><li>Statut de l&rsquo;interface &ldquo;trunking&rdquo;/&ldquo;not trunking&rdquo;</li></ul><p>Les VLANS taggés sont représentés par un octet string, de la forme :<br><code>Name/OID: vlanTrunkPortVlansEnabled.10535; Value (OctetString): 0x00 00 00 00 00 00 00 00 88 80 80 20 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 70 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</code></p><p>Une fois transformé en binaire, cette valeur permet de récupérer l&rsquo;état &ldquo;autorisé sur le trunk&rdquo; de chaque VLAN, grâce à l&rsquo;état du bit correspondant.<br>Exemple : Le bit 80 représente l&rsquo;état du VLAN 80, s&rsquo;il est à &lsquo;1&rsquo;, le vlan est autorisé sur le trunk.</p><p>Ces OIDs sont en read/write, ce qui signifie qu&rsquo;on peut pousser une configuration différente sur ces OIDs. Il suffit donc de changer l&rsquo;état d&rsquo;un bit, de reconstruire l&rsquo;octet string, puis de le pousser avec snmpset pour autoriser ou bloquer un vlan sur le trunk.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/fr/technique/research/ title=Recherche><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/fr/technique/research/research_hugo/ title="Recherche Hugo" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1653843703></script>
<script src=/js/perfect-scrollbar.min.js?1653843703></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1653843703></script>
<script src=/js/jquery.sticky.js?1653843703></script>
<script src=/js/featherlight.min.js?1653843703></script>
<script src=/js/highlight.pack.js?1653843703></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1653843703></script>
<script src=/js/learn.js?1653843703></script>
<script src=/js/hugo-learn.js?1653843703></script>
<script src=/mermaid/mermaid.js?1653843703></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>